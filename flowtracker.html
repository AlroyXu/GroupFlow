


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FlowTracker Module &mdash; GroupFlow 0.2.0 Pre-Release documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="GroupFlow 0.2.0 Pre-Release documentation" href="index.html"/>
        <link rel="next" title="GroupFlow Event Tracker" href="benchmarking.html"/>
        <link rel="prev" title="GroupFlow Module" href="groupflow.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> GroupFlow</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-dependencies">Installing Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#downloading-groupflow">Downloading GroupFlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="igmp_manager.html">IGMP Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="groupflow.html">GroupFlow Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">FlowTracker Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarking.html">GroupFlow Event Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarking.html#module-pox.misc.benchmark_terminator">Benchmark Terminator</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GroupFlow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>FlowTracker Module</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="module-pox.openflow.flow_tracker">
<span id="flowtracker-module"></span><h1>FlowTracker Module<a class="headerlink" href="#module-pox.openflow.flow_tracker" title="Permalink to this headline">¶</a></h1>
<p>A POX module which periodically queries the network to estimate link utilization.</p>
<div class="line-block">
<div class="line">- Bandwidth usage is tracked on selected links in the network (using both FlowStats on the transmission side, and PortStats on the
receive side)</div>
<div class="line">- Number of flow table installations is tracked on all switches in the network</div>
<div class="line"><br /></div>
<div class="line">Depends on openflow.discovery</div>
<div class="line"><br /></div>
<div class="line">Created on Oct 16, 2013</div>
<div class="line">&#64;author: alexcraig</div>
</div>
<dl class="class">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch">
<em class="property">class </em><tt class="descclassname">pox.openflow.flow_tracker.</tt><tt class="descname">FlowTrackedSwitch</tt><big>(</big><em>flow_tracker</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to manage statistics querying and processing for a single OpenFlow switch.</p>
<p>The FlowTracker module implements bandwidth tracking by managing a map of these objects.</p>
<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.ignore_connection">
<tt class="descname">ignore_connection</tt><big>(</big><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.ignore_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects listener methods on statistics queries, and stops the periodic query timer.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.launch_stats_query">
<tt class="descname">launch_stats_query</tt><big>(</big><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.launch_stats_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an OpenFlow FlowStatsRequest and PortStatsRequest to the switch associated with this object.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.listen_on_connection">
<tt class="descname">listen_on_connection</tt><big>(</big><em>connection</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.listen_on_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures listener methods to handle query responses, and starts the periodic query timer.</p>
<p>connection - Connection object for this switch (usually obtained from a ConnectionUp event)</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.process_flow_stats">
<tt class="descname">process_flow_stats</tt><big>(</big><em>stats</em>, <em>reception_time</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.process_flow_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a FlowStats response to a FlowStatsRequest.</p>
<p>Flow stats are processed to determine bandwidth utilization from the transmission side of a link. This method
can produce inaccurate measurements when using Mininet link emulation. In particular, the statistics returned
by emulated switches will not properly detect dropped packets, and the byte counts returned in FlowStats
responses will overestimate the actual bytes forwarded when the link becomes congested. FlowStats are recorded
on a per-flow basis, allowing the module the percentage of link utilization contributed by each flow in the
network. Flows are differentiated by their controller assigned flow cookie. Flows with no cookie default to a
cookie value of 0, and the FlowTracker module will consider all flows without a cookie as a single flow with
cookie value 0.</p>
<p>An exponential moving average is used to smooth bandwidth estimates, where the alpha of the exponential average
is set by flow_tracker.avg_smooth_factor.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.process_port_stats">
<tt class="descname">process_port_stats</tt><big>(</big><em>stats</em>, <em>reception_time</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.process_port_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a PortStats response to a PortStatsRequest.</p>
<p>Port stats are processed to determine bandwidth utilization from the receiving side of a link. This method was
chosen to overcome limitations in Mininet&#8217;s link emulation technique, which causes FlowStats to overestimate
the utilization of a link when a link becomes congested. PortStats should always give an accurate count of the
bytes received on a particular port even in congestion conditions, but the utilization cannot be determined on
a per-flow basis using PortStats messages.</p>
<p>An exponential moving average is used to smooth bandwidth estimates, where the alpha of the exponential average
is set by flow_tracker.avg_smooth_factor.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.set_tracked_ports">
<tt class="descname">set_tracked_ports</tt><big>(</big><em>tracked_ports</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.set_tracked_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the port numbers on which bandwidth utilization should be tracked for this switch.</p>
<p>tracked_ports &#8211; List on integer port numbers on which utilization should be tracked for this switch</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pox.openflow.flow_tracker.FlowTracker">
<em class="property">class </em><tt class="descclassname">pox.openflow.flow_tracker.</tt><tt class="descname">FlowTracker</tt><big>(</big><em>query_interval</em>, <em>link_max_bw</em>, <em>link_cong_threshold</em>, <em>avg_smooth_factor</em>, <em>log_peak_usage</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Module which implements bandwidth utilization tracking by managing a map of FlowTrackedSwitches.</p>
<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.get_flow_utilization_normalized">
<tt class="descname">get_flow_utilization_normalized</tt><big>(</big><em>switch_dpid</em>, <em>output_port</em>, <em>flow_cookie</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.get_flow_utilization_normalized" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the percentage of link utilization on a particular link contributed by a particular flow (as a normalized value between 0 and 1).</p>
<div class="line-block">
<div class="line">switch_dpid - The dataplane identifier of the switch on the transmitting side of the link</div>
<div class="line">output_port - The output port on switch with dpid switch_dpid corresponding to the link</div>
<div class="line">flow_cookie - The flow cookie assigned to the link of interest</div>
</div>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.get_link_utilization_mbps">
<tt class="descname">get_link_utilization_mbps</tt><big>(</big><em>switch_dpid</em>, <em>output_port</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.get_link_utilization_mbps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current estimated utilization (in Mbps) on the specified switch and output port.</p>
<p>If a utilization is available based on port stats from the receive side of the specified link, this value will
be returned (as port stats are more reliable in Mininet than flow stats). If port stats are not available (which
would occur when the opposite side of the link is not being tracked) then a utilization estimate derived from
flow stats will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.get_link_utilization_normalized">
<tt class="descname">get_link_utilization_normalized</tt><big>(</big><em>switch_dpid</em>, <em>output_port</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.get_link_utilization_normalized" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current estimated utilization (as a normalized value between 0 and 1) on a particular link.</p>
<div class="line-block">
<div class="line">switch_dpid - The dataplane identifier of the switch on the transmitting side of the link</div>
<div class="line">output_port - The output port on switch with dpid switch_dpid corresponding to the link</div>
<div class="line">Note: Current implementation assumes all links have equal maximum bandwidth which is defined by self.link_max_bw</div>
</div>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.output_peak_usage">
<tt class="descname">output_peak_usage</tt><big>(</big><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.output_peak_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs the current peak utilization and average link utilization to log.info</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.termination_handler">
<tt class="descname">termination_handler</tt><big>(</big><em>signal</em>, <em>frame</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.termination_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to cleanly terminate the module (i.e. close the log file) when a SIGINT signal is received.</p>
<p>This function is typically called by the BenchmarkTerminator module.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="benchmarking.html" class="btn btn-neutral float-right" title="GroupFlow Event Tracker">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="groupflow.html" class="btn btn-neutral" title="GroupFlow Module"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Alexander Craig.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'',
            VERSION:'0.2.0 Pre-Release',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>