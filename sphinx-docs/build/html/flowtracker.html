

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FlowTracker Module &mdash; GroupFlow be79542a5cfb1686f73adc81f82c7f5e068e5ecd documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'be79542a5cfb1686f73adc81f82c7f5e068e5ecd',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="GroupFlow be79542a5cfb1686f73adc81f82c7f5e068e5ecd documentation" href="index.html" />
    <link rel="next" title="GroupFlow Event Tracker" href="benchmarking.html" />
    <link rel="prev" title="GroupFlow Module" href="groupflow.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="benchmarking.html" title="GroupFlow Event Tracker"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="groupflow.html" title="GroupFlow Module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">GroupFlow be79542a5cfb1686f73adc81f82c7f5e068e5ecd documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pox.openflow.flow_tracker">
<span id="flowtracker-module"></span><h1>FlowTracker Module<a class="headerlink" href="#module-pox.openflow.flow_tracker" title="Permalink to this headline">¶</a></h1>
<p>A POX module which periodically queries the network to estimate link utilization.</p>
<div class="line-block">
<div class="line">- Bandwidth usage is tracked on selected links in the network (using both FlowStats on the transmission side, and PortStats on the
receive side)</div>
<div class="line">- Number of flow table installations is tracked on all switches in the network</div>
<div class="line"><br /></div>
<div class="line">Depends on openflow.discovery</div>
<div class="line"><br /></div>
<div class="line">Created on Oct 16, 2013</div>
<div class="line">&#64;author: alexcraig</div>
</div>
<dl class="class">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch">
<em class="property">class </em><tt class="descclassname">pox.openflow.flow_tracker.</tt><tt class="descname">FlowTrackedSwitch</tt><big>(</big><em>flow_tracker</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to manage statistics querying and processing for a single OpenFlow switch.</p>
<p>The FlowTracker module implements bandwidth tracking by managing a map of these objects.</p>
<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.ignore_connection">
<tt class="descname">ignore_connection</tt><big>(</big><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.ignore_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects listener methods on statistics queries, and stops the periodic query timer.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.launch_stats_query">
<tt class="descname">launch_stats_query</tt><big>(</big><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.launch_stats_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an OpenFlow FlowStatsRequest and PortStatsRequest to the switch associated with this object.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.listen_on_connection">
<tt class="descname">listen_on_connection</tt><big>(</big><em>connection</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.listen_on_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures listener methods to handle query responses, and starts the periodic query timer.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.process_flow_stats">
<tt class="descname">process_flow_stats</tt><big>(</big><em>stats</em>, <em>reception_time</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.process_flow_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a FlowStats response to a FlowStatsRequest.</p>
<p>Flow stats are processed to determine bandwidth utilization from the transmission side of a link. This method
can produce inaccurate measurements when using Mininet link emulation. In particular, the statistics returned
by emulated switches will not properly detect dropped packets, and the byte counts returned in FlowStats
responses will overestimate the actual bytes forwarded when the link becomes congested. FlowStats are recorded
on a per-flow basis, allowing the module the percentage of link utilization contributed by each flow in the
network. Flows are differentiated by their controller assigned flow cookie. Flows with no cookie default to a
cookie value of 0, and the FlowTracker module will consider all flows without a cookie as a single flow with
cookie value 0.</p>
<p>An exponential moving average is used to smooth bandwidth estimates, where the alpha of the exponential average
is set by flow_tracker.avg_smooth_factor.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.process_port_stats">
<tt class="descname">process_port_stats</tt><big>(</big><em>stats</em>, <em>reception_time</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.process_port_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a PortStats response to a PortStatsRequest.</p>
<p>Port stats are processed to determine bandwidth utilization from the receiving side of a link. This method was
chosen to overcome limitations in Mininet&#8217;s link emulation technique, which causes FlowStats to overestimate
the utilization of a link when a link becomes congested. PortStats should always give an accurate count of the
bytes received on a particular port even in congestion conditions, but the utilization cannot be determined on
a per-flow basis using PortStats messages.</p>
<p>An exponential moving average is used to smooth bandwidth estimates, where the alpha of the exponential average
is set by flow_tracker.avg_smooth_factor.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTrackedSwitch.set_tracked_ports">
<tt class="descname">set_tracked_ports</tt><big>(</big><em>tracked_ports</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTrackedSwitch.set_tracked_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the port numbers on which bandwidth utilization should be tracked for this switch.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pox.openflow.flow_tracker.FlowTracker">
<em class="property">class </em><tt class="descclassname">pox.openflow.flow_tracker.</tt><tt class="descname">FlowTracker</tt><big>(</big><em>query_interval</em>, <em>link_max_bw</em>, <em>link_cong_threshold</em>, <em>avg_smooth_factor</em>, <em>log_peak_usage</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Module which implements bandwidth utilization tracking by managing a map of FlowTrackedSwitches.</p>
<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.get_link_utilization_mbps">
<tt class="descname">get_link_utilization_mbps</tt><big>(</big><em>switch_dpid</em>, <em>output_port</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.get_link_utilization_mbps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current estimated utilization (in Mbps) on the specified switch and output port.</p>
<p>If a utilization is available based on port stats from the receive side of the specified link, this value will
be returned (as port stats are more reliable in Mininet than flow stats). If port stats are not available (which
would occur when the opposite side of the link is not being tracked) then a utilization estimate derived from
flow stats will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.get_link_utilization_normalized">
<tt class="descname">get_link_utilization_normalized</tt><big>(</big><em>switch_dpid</em>, <em>output_port</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.get_link_utilization_normalized" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current estimated utilization (as a normalized value between 0 and 1) on the specified switch and output port.</p>
<p>Note: Current implementation assumes all links have equal maximum bandwidth which is defined by self.link_max_bw</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.output_peak_usage">
<tt class="descname">output_peak_usage</tt><big>(</big><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.output_peak_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs the current peak utilization and average link utilization to log.info</p>
</dd></dl>

<dl class="method">
<dt id="pox.openflow.flow_tracker.FlowTracker.termination_handler">
<tt class="descname">termination_handler</tt><big>(</big><em>signal</em>, <em>frame</em><big>)</big><a class="headerlink" href="#pox.openflow.flow_tracker.FlowTracker.termination_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to cleanly terminate the module (i.e. close the log file) when a SIGINT signal is received.</p>
<p>This function is typically called by the BenchmarkTerminator module.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="groupflow.html"
                        title="previous chapter">GroupFlow Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="benchmarking.html"
                        title="next chapter">GroupFlow Event Tracker</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/flowtracker.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="benchmarking.html" title="GroupFlow Event Tracker"
             >next</a> |</li>
        <li class="right" >
          <a href="groupflow.html" title="GroupFlow Module"
             >previous</a> |</li>
        <li><a href="index.html">GroupFlow be79542a5cfb1686f73adc81f82c7f5e068e5ecd documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Alexander Craig.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>